Author: Nicholas Bamber <nicholas@periapt.co.uk>
Subject: certain tests failing
Bug-Debian: http://bugs.debian.org/674267
Last-Update: 2012-05-27
Forwarded: not-needed
--- /dev/null
+++ b/mysql-test/include/debian-fail-674267.inc
@@ -0,0 +1,5 @@
+if (`select @@version_compile_machine regexp 'i[3456]86' = 1`)
+{
+  skip See Debian bug #674267;
+}
+
--- a/mysql-test/t/ssl_connect.test
+++ b/mysql-test/t/ssl_connect.test
@@ -1,4 +1,5 @@
 
+-- source include/debian-fail-674267.inc
 -- source include/have_ssl_communication.inc
 
 # Repeat connect/disconnect
--- a/mysql-test/t/ssl_cipher.test
+++ b/mysql-test/t/ssl_cipher.test
@@ -1,5 +1,6 @@
 # Turn on ssl between the client and server
 # and run a number of tests
+-- source include/debian-fail-674267.inc
 
 --echo #
 --echo # BUG#11760210 - SSL_CIPHER_LIST NOT SET OR RETURNED FOR "SHOW STATUS LIKE 'SSL_CIPHER_LIST'"
--- a/mysql-test/suite/rpl/t/rpl_ssl.test
+++ b/mysql-test/suite/rpl/t/rpl_ssl.test
@@ -1,3 +1,5 @@
+
+-- source include/debian-fail-674267.inc
 source include/have_ssl_communication.inc;
 source include/master-slave.inc;
 
--- a/mysql-test/suite/rpl/t/rpl_ssl1.test
+++ b/mysql-test/suite/rpl/t/rpl_ssl1.test
@@ -1,3 +1,5 @@
+
+-- source include/debian-fail-674267.inc
 source include/have_ssl_communication.inc;
 source include/master-slave.inc;
 
--- a/mysql-test/suite/rpl/t/rpl_heartbeat_ssl.test
+++ b/mysql-test/suite/rpl/t/rpl_heartbeat_ssl.test
@@ -3,6 +3,7 @@
 # Date:   02/19/2009
 # Purpose: Testing basic functionality of heartbeat over SSL
 #############################################################
+-- source include/debian-fail-674267.inc
 --source include/have_ssl_communication.inc
 --source include/master-slave.inc
 --echo
--- a/mysql-test/t/openssl_1.test
+++ b/mysql-test/t/openssl_1.test
@@ -1,6 +1,7 @@
 # Tests for SSL connections, only run if mysqld is compiled
 # with support for SSL.
 
+-- source include/debian-fail-674267.inc
 -- source include/have_ssl_communication.inc
 
 # Save the initial number of concurrent sessions
--- a/mysql-test/t/ssl.test
+++ b/mysql-test/t/ssl.test
@@ -1,6 +1,7 @@
 # Turn on ssl between the client and server
 # and run a number of tests
 
+-- source include/debian-fail-674267.inc
 -- source include/have_ssl_communication.inc
 
 # Save the initial number of concurrent sessions
--- a/mysql-test/t/ssl_compress.test
+++ b/mysql-test/t/ssl_compress.test
@@ -1,6 +1,7 @@
 # Turn on compression between the client and server
 # and run a number of tests
 
+-- source include/debian-fail-674267.inc
 -- source include/have_ssl_communication.inc
 -- source include/have_compress.inc
 
--- a/mysql-test/t/ssl_8k_key.test
+++ b/mysql-test/t/ssl_8k_key.test
@@ -2,6 +2,7 @@
 #
 # Bug#29784 YaSSL assertion failure when reading 8k key.
 #
+-- source include/debian-fail-674267.inc
 --exec $MYSQL --ssl --ssl-key=$MYSQL_TEST_DIR/std_data/client-key.pem --ssl-cert=$MYSQL_TEST_DIR/std_data/client-cert.pem -e "SHOW STATUS LIKE 'ssl_Cipher'" 2>&1
 
 ##  This test file is for testing encrypted communication only, not other
