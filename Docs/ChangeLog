------------------------------------------------------------
revno: 4535
committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
branch nick: mysql-5.5.35-release
timestamp: Tue 2013-11-05 08:03:43 +0100
message:
  Removed non gpl file mysql.info from uln community package
------------------------------------------------------------
revno: 4534 [merge]
tags: clone-5.5.35-build
committer: Tor Didriksen <tor.didriksen@oracle.com>
branch nick: 5.5-merge
timestamp: Fri 2013-11-01 16:52:21 +0100
message:
  merge 5.1 => 5.5
    ------------------------------------------------------------
    revno: 2661.844.85
    tags: clone-5.1.73-build
    committer: Tor Didriksen <tor.didriksen@oracle.com>
    branch nick: 5.1
    timestamp: Fri 2013-11-01 16:39:19 +0100
    message:
      Bug#17617945 BUFFER OVERFLOW IN GET_MERGE_MANY_BUFFS_COST WITH SMALL SORT_BUFFER_SIZE
      
      get_cost_calc_buff_size() could return wrong value for the size of imerge_cost_buff.
------------------------------------------------------------
revno: 4533
committer: Venkata Sidagam <venkata.sidagam@oracle.com>
branch nick: 5.5
timestamp: Fri 2013-11-01 13:48:24 +0530
message:
  Bug #12917164 DROP USER CAN'T DROP USERS WITH LEGACY 
      UPPER CASE HOST NAME ANYMORE
  Fixing the testcase failure
------------------------------------------------------------
revno: 4532 [merge]
committer: Nuno Carvalho <nuno.carvalho@oracle.com>
branch nick: mysql-5.5
timestamp: Thu 2013-10-31 22:58:07 +0000
message:
  BUG#17662398: REMOVE DUPLICATE TEST CASES
  
  Merge from mysql-5.1 into mysql-5.5.
    ------------------------------------------------------------
    revno: 2661.844.84
    committer: Nuno Carvalho <nuno.carvalho@oracle.com>
    branch nick: mysql-5.1
    timestamp: Thu 2013-10-31 22:53:56 +0000
    message:
      BUG#17662398: REMOVE DUPLICATE TEST CASES
      
      Remove duplicate test cases.
------------------------------------------------------------
revno: 4531 [merge]
committer: Venkata Sidagam <venkata.sidagam@oracle.com>
branch nick: 5.5
timestamp: Thu 2013-10-31 23:14:33 +0530
message:
  Bug #12917164 DROP USER CAN'T DROP USERS WITH LEGACY 
      UPPER CASE HOST NAME ANYMORE
  Merging from mysql-5.1 to mysql-5.5
    ------------------------------------------------------------
    revno: 2661.844.83
    committer: Venkata Sidagam <venkata.sidagam@oracle.com>
    branch nick: 5.1
    timestamp: Thu 2013-10-31 23:02:44 +0530
    message:
      Bug #12917164 DROP USER CAN'T DROP USERS WITH LEGACY 
          UPPER CASE HOST NAME ANYMORE
      
      Description:
      It is not possible to drop users with host names with upper case
      letters in them. i.e DROP USER 'root'@'Tmp_Host_Name'; is failing
      with error.
      
      Analysis: Since the fix 11748570 we came up with lower case hostnames
      as standard. But in the current bug the hostname is created by
      mysql_install_db script is still having upper case hostnames. 
      So, if we have the hostname with upper case letters like(Tmp_Host_Name)
      then we will have as it is stored in the mysql.user table. 
      In this case if use "'DROP USER 'root'@'Tmp_Host_Name';" it gives 
      error because we do compare with the lower case of hostname since the 
      11748570 fix.
      
      Fix: We need to convert the hostname to lower case before storing into 
      the mysql.user table when we run the mysql_install_db script.
------------------------------------------------------------
revno: 4530
committer: Saikumar V <saikumar.v@oracle.com>
branch nick: mysql-5.5
timestamp: Thu 2013-10-31 09:01:09 +0530
message:
  Synching rqg grammars/redefines to mysql-repos internal.
------------------------------------------------------------
revno: 4529 [merge]
committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-30 04:12:24 +0100
message:
  Merge 5.1 => 5.5
    ------------------------------------------------------------
    revno: 2661.844.82
    committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
    branch nick: mysql-5.1
    timestamp: Wed 2013-10-30 04:07:07 +0100
    message:
      Removed non gpl file docs/mysql.info from community packages
------------------------------------------------------------
revno: 4528 [merge]
committer: Tor Didriksen <tor.didriksen@oracle.com>
branch nick: 5.5-merge
timestamp: Tue 2013-10-29 19:55:38 +0100
message:
  remerge 5.1 => 5.5
    ------------------------------------------------------------
    revno: 2661.844.81
    committer: Tor Didriksen <tor.didriksen@oracle.com>
    branch nick: 5.1
    timestamp: Tue 2013-10-29 17:26:20 +0100
    message:
      Bug#17326567 MYSQL SERVER FILESORT IMPLEMENTATION HAS A VERY SERIOUS BUG
      
      The filesort implementation needs space for at least 15 records
      (plus some internal overhead) in its main sort buffer.
------------------------------------------------------------
revno: 4527
committer: kevin.lewis@oracle.com
branch nick: mysql-5.5
timestamp: Tue 2013-10-29 11:39:04 -0500
message:
  Testcase i_innodb.innodb-alter-restart.test fails on some Windows platforms
  possibly since it was introduced in the patch for Bug#16720368 around 
  2013-04-30.  This fix is simply to adjust the mtr.add_suppression() lines
  in the testcase and to add a missing "\n" in the error message.
  
  Approved by Marko in RB 3746
------------------------------------------------------------
revno: 4526
committer: Mattias Jonsson <mattias.jonsson@oracle.com>
branch nick: test-5.5
timestamp: Mon 2013-10-28 17:08:31 +0100
message:
  post-push fix for bug#17565888/bug#14621190
------------------------------------------------------------
revno: 4525
committer: Luis Soares <luis.soares@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-10-25 09:42:59 +0100
message:
  BUG#17460821: ASSERTION ERROR WHEN STOPPING SLAVE AFTER SEMI-SYNC ON MASTER IS DISABLED
  
  In the test case, make sure that the IO thread is not stopped 
  during the binlog  dump request.
------------------------------------------------------------
revno: 4524
committer: sayantan dutta <sayantan.dutta@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-10-25 11:38:34 +0530
message:
  Bug #17654275 - MTR EXTRACT_WARNING_LINES IS NOT REMOVING TIMESTAMP IN UTC FORMAT WITH TIMEZONES
------------------------------------------------------------
revno: 4523
committer: Jon Olav Hauglid <jon.hauglid@oracle.com>
branch nick: mysql-5.5-bug17632386
timestamp: Mon 2013-10-21 13:14:46 +0200
message:
  Bug#17632386: WITH_ASAN CONFLICTS WITH -WL,--NO-UNDEFINED
  
  -Wl,--no-undefined (=-z defs) gives linking errors when used with WITH_ASAN.
  According to the documentation:
  "When linking shared libraries, the AddressSanitizer run-time is not linked,
  so -Wl,-z,defs may cause link errors (don?t use it with AddressSanitizer)."
  
  This patch turns off -Wl,--no-undefined if WITH_ASAN is used.
------------------------------------------------------------
revno: 4522
committer: Aditya A <aditya.a@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-10-21 12:07:02 +0530
message:
  Bug #16051817  GOT ERROR 124 FROM STORAGE ENGINE 
                 ON DELETE FROM A PARTITIONED TABLE
  
  PROBLEM
  -------
  
  The user first disables all the non unique indexes
  in the table and then rebuilds one partition.
  During rebuild the indexes on that particular
  partition are enabled. Now when we give a query 
  the optimizer is unaware that on one partition 
  indexes are enabled and if the optimizer selects
  that index,myisam thinks that the index is not 
  active and gives an error.
  
  FIX
  ---
  
  Before rebuilding a partition check whether non
  unique indexes are disabled on the partitons.
  If they are disabled then after rebuild disable
  the index on the partition. 
  
  [Approved by Mattiasj #rb3469]
------------------------------------------------------------
revno: 4521
committer: Mattias Jonsson <mattias.jonsson@oracle.com>
branch nick: test-5.5
timestamp: Sat 2013-10-19 15:29:51 +0200
message:
  post-push fix for bug17565888.
------------------------------------------------------------
revno: 4520
committer: Mattias Jonsson <mattias.jonsson@oracle.com>
branch nick: test-5.5
timestamp: Fri 2013-10-18 23:49:35 +0200
message:
  post-push fix for bug17565888.
  
  Too restrictive assertion, failing during purge
------------------------------------------------------------
revno: 4519
committer: Mattias Jonsson <mattias.jonsson@oracle.com>
branch nick: test-5.5
timestamp: Fri 2013-10-18 23:39:15 +0200
message:
  post-push fix for bug17565888.
  
  Too restrictive assertion, can fail during purge
------------------------------------------------------------
revno: 4518
committer: Mattias Jonsson <mattias.jonsson@oracle.com>
branch nick: test-5.5
timestamp: Fri 2013-10-18 19:25:59 +0200
message:
  Bug#17565888: UP TO 75% INCREASE IN DBT3 QUERY (Q7) EXECUTION TIME
  
  Regression from bug#14621190 due to disabled optimistic restoration
  of cursor, which required full key lookup instead of verifying
  if previously positioned btree cursor could be reused.
  
  Fixed by enable optimistic restore and adjust cursor afterward.
  
  rb#3324 approved by Marko.
------------------------------------------------------------
revno: 4517
committer: Anirudh Mangipudi <anirudh.mangipudi@oracle.com>
branch nick: 5.5
timestamp: Fri 2013-10-18 17:14:39 +0530
message:
  Bug #17357535 BACKPORT BUG#16241992 TO 5.5
  Problem:
  COM_CHANGE_USER allows brute-force attempts to crack a password at a very high
  rate as it does not cause any significant delay after a login attempt has
  failed. This issue was reproduced using John-The-Ripper password
  cracking tool through which about 5000 passwords per second could be attempted.
  
  Solution:
  The non-GA version's solution was to disconnect the connection when a login
  attempt failed. Now since our aim to to reduce the rate at which passwords 
  are tested, we introduced a sleep(1) after every login attempt failed. This
  significantly increased the delay with which the password was cracked.
------------------------------------------------------------
revno: 4516 [merge]
committer: Luis Soares <luis.soares@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-10-18 10:50:49 +0100
message:
  BUG#17460821
  
  Automerged from mysql-5.5 bug branch into latest mysql-5.5.
    ------------------------------------------------------------
    revno: 4512.1.1
    committer: Luis Soares <luis.soares@oracle.com>
    branch nick: mysql-5.5
    timestamp: Thu 2013-10-17 17:48:26 +0100
    message:
      BUG#17460821: ASSERTION ERROR WHEN STOPPING SLAVE AFTER SEMI-SYNC ON MASTER IS DISABLED
      
      The assertion happens when: (i) the master and slave are configured to
      use the semisync plugin; (ii) the DBA disables semisync on the master;
      (iii) and he also unsets the option to wait for slaves ACK even if the
      semisync slave count reaches 0 during the waiting period. This
      combination of factors makes the server run into an assertion as soon
      as the last semisync slave disconnects and its dump thread exits.
        
      The root of the problem is the fact that when the dump thread
      disconnects and calls the observer hook transmit_stop, which ends up
      calling ReplSemiSyncMaster::remove_slave, there is no check whether
      the master has already disabled semisync or not. If it has, the then a
      second call to the switch_off member function must be avoided.
        
      The quick fix is to avoid calling switch_off if the DBA has disabled
      the semisync plugin interactively on the master. Also, the switch_off
      member function should only be called if the plugin has not been
      switched off already. This is basically the pattern throughout the
      rest of the semisync plugin and no other calls seem vulnerable to
      similar crashes/assertions.
      
      (This a backport of the patch to 5.5, which is also vulnerable.)
------------------------------------------------------------
revno: 4515 [merge]
committer: Aditya A <aditya.a@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-10-18 13:49:03 +0530
message:
  Bug#17559867 AFTER REBUILDING , A MYISAM PARTITION ENDS UP 
               AS A INNODB PARTITTION.
  [Merged from 5.1]             
    ------------------------------------------------------------
    revno: 2661.844.80
    committer: Aditya A <aditya.a@oracle.com>
    branch nick: mysql-5.1
    timestamp: Fri 2013-10-18 12:26:28 +0530
    message:
      Bug#17559867 AFTER REBUILDING,A MYISAM PARTITION ENDS UP 
                   AS A INNODB PARTITTION.
      
      PROBLEM
      -------
      The correct engine_type was not being set during 
      rebuild of the partition due to which the handler
      was always created with the default engine,
      which is innodb for 5.5+ ,therefore even if the
      table was myisam, after rebuilding the partitions
      ended up as innodb partitions.
      
      FIX
      ---
      Set the correct engine type during rebuild.  
      
      [Approved by mattiasj #rb3599]
------------------------------------------------------------
revno: 4514
committer: Anil Toshniwal <anil.toshniwal@oracle.com>
branch nick: mysql-5.5
timestamp: Thu 2013-10-17 18:09:04 +0530
message:
  Bug#17513737  INTRODUCE CHECK TABLE...QUICK
  
  --Implemented CHECK TABLE...QUICK.
    Introduce CHECK TABLE...QUICK that would skip the btr_validate_index()
    and btr_search_validate() call, and count the no. of records in each index.
  
  Approved by Marko and Kevin. (rb#3567).
------------------------------------------------------------
revno: 4513
committer: Praveenkumar Hulakund <praveenkumar.hulakund@oracle.com>
branch nick: mysql-5.5
timestamp: Thu 2013-10-17 17:59:45 +0530
message:
  Bug#17474166 - EXECUTING STATEMENT LIKE 'SHOW ENGINE INNODB'
                 AND 'KILL SESSION' LEAD TO CRASH     
  
  Fixing pb2 failure on embedded version.
------------------------------------------------------------
revno: 4512 [merge]
committer: Luis Soares <luis.soares@oracle.com>
branch nick: mysql-5.5
timestamp: Thu 2013-10-17 12:27:45 +0100
message:
  BUG#17508351
  
  Merging mysql-5.5 bug branch into latest mysql-5.5.
    ------------------------------------------------------------
    revno: 4488.1.1
    committer: Luis Soares <luis.soares@oracle.com>
    branch nick: mysql-5.5
    timestamp: Tue 2013-10-08 18:37:43 +0100
    message:
      BUG#17508351: REDUNDANT CODE IN REPLSEMISYNCMASTER::UPDATESYNCHEADER
      
      ReplSemiSyncMaster::updateSyncHeader contains redundant assignments
      to the local variable sync.
      
      This patch removes them.
------------------------------------------------------------
revno: 4511 [merge]
committer: Venkatesh Duggirala<venkatesh.duggirala@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-16 22:15:59 +0530
message:
  Bug#17234370 LAST_INSERT_ID IS REPLICATED INCORRECTLY IF
  REPLICATION FILTERS ARE USED.
  Merging fix from mysql-5.1
    ------------------------------------------------------------
    revno: 2661.844.79
    committer: Venkatesh Duggirala<venkatesh.duggirala@oracle.com>
    branch nick: mysql-5.1
    timestamp: Wed 2013-10-16 22:12:23 +0530
    message:
      Bug#17234370 LAST_INSERT_ID IS REPLICATED INCORRECTLY IF
      REPLICATION FILTERS ARE USED.
      
      Problem:
      When Filtered-slave applies Int_var_log_event and when it
      tries to write the event to its own binlog, LAST_INSERT_ID
      value is written wrongly.
      
      Analysis:
      THD::stmt_depends_on_first_successful_insert_id_in_prev_stmt
      is a variable which is set when LAST_INSERT_ID() is used by
      a statement. If it is set, first_successful_insert_id_in_
      prev_stmt_for_binlog will be stored in the statement-based
      binlog. This variable is CUMULATIVE along the execution of
      a stored function or trigger: if one substatement sets it
      to 1 it will stay 1 until the function/trigger ends,
      thus making sure that first_successful_insert_id_in_
      prev_stmt_for_binlog does not change anymore and is
      propagated to the caller for binlogging. This is achieved
      using the following code
      if(!stmt_depends_on_first_successful_insert_id_in_prev_stmt)               
      {                                                                           
        /* It's the first time we read it */                                      
        first_successful_insert_id_in_prev_stmt_for_binlog=                       
        first_successful_insert_id_in_prev_stmt;                                
        stmt_depends_on_first_successful_insert_id_in_prev_stmt= 1;               
      }
      
      Slave server, after receiving Int_var_log_event event from
      master, it is setting
      stmt_depends_on_first_successful_insert_id_in_prev_stmt
      to true(*which is wrong*) and not setting
      first_successful_insert_id_in_prev_stmt_for_binlog. Because
      of this problem, when the actual DML statement with
      LAST_INSERT_ID() is parsed by slave SQL thread,
      first_successful_insert_id_in_prev_stmt_for_binlog is not
      set. Hence the value zero (default value) is written to
      slave's binlog.
      
      Why only *Filtered slave* is effected when the code is
      in common place:
      -------------------------------------------------------
      In Query_log_event::do_apply_event,
      THD::stmt_depends_on_first_successful_insert_id_in_prev_stmt
      is reset to zero at the end of the function. In case of
      normal slave (No Filters), this variable will be reset. 
      In Filtered slave, Slave SQL thread defers all IRU events's
      execution until IRU's Query_log event is received. Once it
      receives Query_log_event it executes all pending IRU events
      and then it executes Query_log_event. Hence the variable is
      not getting reset to 0, causing this bug.
      
      Fix: As described above, the root cause was setting 
      THD::stmt_depends_on_first_successful_insert_id_in_prev_stmt
      when Int_var_log_event was executed by a SQL thread. Hence
      removing the problematic line from the code.
------------------------------------------------------------
revno: 4510 [merge]
committer: Venkata Sidagam <venkata.sidagam@oracle.com>
branch nick: 5.5
timestamp: Wed 2013-10-16 14:16:32 +0530
message:
  Bug#16900358 FIX FOR CVE-2012-5611 IS INCOMPLETE
  
  Merging from mysql-5.1 to mysql-5.5
    ------------------------------------------------------------
    revno: 2661.844.78
    committer: Venkata Sidagam <venkata.sidagam@oracle.com>
    branch nick: 5.1
    timestamp: Wed 2013-10-16 14:14:44 +0530
    message:
      Bug#16900358 FIX FOR CVE-2012-5611 IS INCOMPLETE
      
      Description: Fix for bug CVE-2012-5611 (bug 67685) is 
      incomplete. The ACL_KEY_LENGTH-sized buffers in acl_get() and 
      check_grant_db() can be overflown by up to two bytes. That's 
      probably not enough to do anything more serious than crashing 
      mysqld.
      Analysis: In acl_get() when "copy_length" is calculated it 
      just adding the variable lengths. But when we are using them 
      with strmov() we are adding +1 to each. This will lead to a 
      three byte buffer overflow (i.e two +1's at strmov() and one 
      byte for the null added by strmov() function). Similarly it 
      happens for check_grant_db() function as well.
      Fix: We need to add "+2" to "copy_length" in acl_get() 
      and "+1" to "copy_length" in check_grant_db(). 
------------------------------------------------------------
revno: 4509
committer: Sujatha Sivakumar <sujatha.sivakumar@oracle.com>
branch nick: Bug17429677_mysql-5.5
timestamp: Wed 2013-10-16 11:49:00 +0530
message:
  Bug#17429677:LAST ARGUMENT OF LOAD DATA ...SET ...STATEMENT
  REPEATED TWICE IN BINLOG
  
  Problem:
  =======
  If LOAD DATA ... SET ... is used the last argument of SET is
  repeated twice in replication binlog.
  
  Analysis:
  ========
  LOAD DATA statements are reconstructed once again before
  they are written to the binary log. When SET clauses are
  specified as part of LOAD DATA statement, these SET clause
  user command strings need to be stored in order to rebuild
  the original user command. During parsing each column and
  the value in the SET command are stored in two differenet
  lists. All the values are stored in a string list.
  
  When SET expression has more than one value as shown in the
  following example:
  SET a = @a, b = CONCAT(@b, '| 123456789');
  
  Parser extracts values in the following manner i.e Item name
  , value string, actual length of the value of the item with
  in the string.
  
  Item a:
  Value for a:"= @a, b = CONCAT(@b, '| 123456789')
  str_length = 4
  Item b:
  Value for b:"= CONCAT(@b, '| 123456789')
  str_length = 27
  
  During reconstructing the LOAD DATA command the above
  strings are retrived as it is and appended to the LOAD DATA
  statement. Hence it becomes as shown below.
  
  SET `a`= @a, b = CONCAT(@b, '| 123456789'),
  `b`= CONCAT(@b, '| 123456789')
  
  Fix:
  ===
  During reconstruction of SET command, retrieve exact item
  value string rather than reading the entire string.
------------------------------------------------------------
revno: 4508
committer: Sreedhar.S <sreedhar.sreedhargadda@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-16 11:05:20 +0530
message:
  Fix for Bug 17584523 - LICENSE AND DOCUMENTATION FILES MISSING FROM WINDOWS MSI PACKAGE
------------------------------------------------------------
revno: 4507 [merge]
committer: Nuno Carvalho <nuno.carvalho@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-10-14 15:51:09 +0100
message:
  WL#7266: Dump-thread additional concurrency tests
  
  Merge from mysql-5.1 into mysql-5.5.
    ------------------------------------------------------------
    revno: 2661.844.77
    committer: Nuno Carvalho <nuno.carvalho@oracle.com>
    branch nick: mysql-5.1
    timestamp: Mon 2013-10-14 15:45:12 +0100
    message:
      WL#7266: Dump-thread additional concurrency tests                                                                                                                           
      
      This worklog aims at testing the two following scenarios:
      
      1) Whenever the mysql_binlog_send method (dump thread)
      reaches the end of file when reading events from the binlog, before
      checking if it should wait for more events, there was a test to
      check if the file being read was still active, i.e, it was the last
      known binlog. However, it was possible that something was written to
      the binary log and then a rotation would happen, after EOF was
      detected and before the check for active was performed. In this
      case, the end of the binary log would not be read by the dump
      thread, and this would cause the slave to lose updates.
      This test verifies that the problem has been fixed. It waits during
      this window while forcing a rotation in the binlog.
      
      2) Verify dump thread can send events in active file, correctly after
      encountering an IO error.
------------------------------------------------------------
revno: 4506
committer: Satya Bodapati <satya.bodapati@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-09 18:42:27 +0530
message:
  BUG#17446090 - TESTCASE INNODB_BUG16752251.TEST FAILS RANDOMLY ON PB2
  
  DBUG_SUICIDE() hangs valgrind. Disable the test under valgrind
------------------------------------------------------------
revno: 4505
committer: Sreedhar.S <sreedhar.sreedhargadda@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-09 17:08:45 +0530
message:
  BUG 17560050 - MYSQL_INSTALL_DB SCRIPT FAILING WITH RESOLVEIP ISSUES.
------------------------------------------------------------
revno: 4504
committer: Praveenkumar Hulakund <praveenkumar.hulakund@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-09 13:32:31 +0530
message:
  Bug#17474166 - EXECUTING STATEMENT LIKE 'SHOW ENGINE INNODB'
                 AND 'KILL SESSION' LEAD TO CRASH               
  
  Analysis:
  --------
  This situation occurs when the connection executes query 
  "show engine innodb status" and this connection is killed by
  executing statement "kill <con>" by another connection.
  
  In function "innodb_show_status", function "stat_print"
  is called to print the status but return value of function
  is not checked.  After killing connection, if write to 
  connection fails then error is returned and same is set
  in Diagnostic area. Since FALSE is returned from
  "innodb_show_status" now, assert to check no error
  is set in function "set_eof_status" (called from
  my_eof) is failing. 
  
  Fix:
  ----
  Changed code to check return value of function "stat_print"
  in "innodb_show_status".
------------------------------------------------------------
revno: 4503
committer: Sreedhar.S <sreedhar.sreedhargadda@oracle.com>
branch nick: mysql-5.5
timestamp: Wed 2013-10-09 11:10:46 +0530
message:
  Bug 13878021 - WINDOWS PACKAGE THAT INCLUDES .PDB FILES FOR INTERMEDIATE LIBRARIES USED
------------------------------------------------------------
revno: 4502
committer: Praveenkumar Hulakund <praveenkumar.hulakund@oracle.com>
branch nick: mysql_5_5
timestamp: Mon 2013-10-07 18:17:26 +0530
message:
  Bug#11745656 - KILL THREAD -> ERROR: "SERVER SHUTDOWN IN PROGRESS"
        
  Fixing pb2 test failure for 5.5 version on solaris platform.
------------------------------------------------------------
revno: 4501 [merge]
committer: Kent Boortz <kent.boortz@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-10-07 13:05:49 +0200
message:
  Corrections of copyright headers (RE-request 45781)
    ------------------------------------------------------------
    revno: 2661.844.76 [merge]
    committer: Kent Boortz <kent.boortz@oracle.com>
    branch nick: mysql-5.1
    timestamp: Mon 2013-10-07 12:44:38 +0200
    message:
      Corrections of copyright headers (RE-request 45781)
------------------------------------------------------------
revno: 4500 [merge]
committer: Kent Boortz <kent.boortz@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-10-07 12:45:05 +0200
message:
  Corrections of copyright headers (RE-request 45781)
    ------------------------------------------------------------
    revno: 4495.1.1 [merge]
    committer: Kent Boortz <kent.boortz@oracle.com>
    branch nick: mysql-5.5
    timestamp: Sun 2013-10-06 18:16:09 +0200
    message:
      Corretions of copyright headers (RE-request 45781)
        ------------------------------------------------------------
        revno: 2661.851.1
        committer: Kent Boortz <kent.boortz@oracle.com>
        branch nick: mysql-5.1
        timestamp: Fri 2013-10-04 13:51:13 +0200
        message:
          Corretions of copyright headers (RE-request 45781)
------------------------------------------------------------
revno: 4499
committer: Praveenkumar Hulakund <praveenkumar.hulakund@oracle.com>
branch nick: mysql_5_5
timestamp: Mon 2013-10-07 14:03:57 +0530
message:
  Bug#11745656 - KILL THREAD -> ERROR: "SERVER SHUTDOWN IN PROGRESS"
            
  Fixing pb2 test failure.
------------------------------------------------------------
revno: 4498 [merge]
committer: Yasufumi Kinoshita <yasufumi.kinoshita@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-10-07 15:17:56 +0900
message:
  Merge mysql-5.1 to mysql-5.5.
    ------------------------------------------------------------
    revno: 2661.844.75
    committer: Yasufumi Kinoshita <yasufumi.kinoshita@oracle.com>
    branch nick: mysql-5.1
    timestamp: Mon 2013-10-07 15:16:31 +0900
    message:
      Bug#17431533 : FAILING ASSERTION: INDEX->PAGE != 0XFFFFFFFF AFTER DISCARDING TABLESPACE
      
      ha_innobase::records_in_range() should return HA_POS_ERROR for the table during discarded without requesting pages.
      The later other handler method should treat the error correctly.
      
      Approved by Sunny in rb#3433
------------------------------------------------------------
revno: 4497
committer: Praveenkumar Hulakund <praveenkumar.hulakund@oracle.com>
branch nick: mysql_5_5
timestamp: Mon 2013-10-07 09:49:32 +0530
message:
  Bug#11745656 - KILL THREAD -> ERROR: "SERVER SHUTDOWN IN PROGRESS"
  
  Fixing pb2 test failure for 5.5 version on solaris platform.
------------------------------------------------------------
revno: 4496
committer: Praveenkumar Hulakund <praveenkumar.hulakund@oracle.com>
branch nick: mysql_5_5
timestamp: Sat 2013-10-05 15:29:02 +0530
message:
  Bug#11745656 - KILL THREAD -> ERROR: "SERVER SHUTDOWN IN PROGRESS"
  
  Description:
  ------------
  There are 2 issues reported in the bug report,
  
  1. One session running a "long" select, then, from the other
  session, you kill that first one, while select is
  running, and it receives that message "Server shutdown in
  progress".
  Reported Date: 02-Apr-2006
  
  => Looks like this isuse is already fixed in 2009 by the patch
     pushed for bug28141. 
  
  2. Killing query which goes to filesort, logs error entries like:
  
  120416  9:17:28 [ERROR] mysqld: Sort aborted: Server shutdown in
                                                progress 
  120416  9:18:48 [ERROR] mysqld: Sort aborted: Server shutdown in
                                                progress 
  120416  9:19:39 [ERROR] mysqld: Sort aborted: Server shutdown in
                                                progress 
  Reported Date: 16-Apr-2012                                              
  
  => This issue is introduced in 5.5+ versions. Fixing this issue
     in this patch.
  
  
  Analysis:
  ---------
  In function "filesort()", on error we are logging error message.
  To the error message, the message related THD::killed_errno is
  also appeneded, if it is set.(THD::kill_errno value is obtained
  by calling member function THD::killed_errno)
  
  In the scenario mentioned in this bug report, when we kill the
  connection, THD::kill_errno is set to the THD::KILL_CONNECTION.
  Enum type THD::KILL_CONNECTION corressponds to value 
  ER_SERVER_SHUTDOWN. Because of this, "Server shutdown in ...." is
  appended to the message logged.
  
  Fix:
  ----
  Modified code of "filesort()" function to append "KILL_QUERY"
  status to error message when thread is killed and server
  shutdown is not in progress.
------------------------------------------------------------
revno: 4495
committer: Marko M?kel? <marko.makela@oracle.com>
branch nick: mysql-5.5
timestamp: Tue 2013-10-01 14:17:35 +0300
message:
  Followup to Bug#17446090 fix:
  
  Now that ibuf_change_buffering_debug a.k.a. ibuf_debug should work
  reliably (no "surprise" merges), make some tests stricter
  (require that the server crashes where we expect it to).
------------------------------------------------------------
revno: 4494
committer: Mattias Jonsson <mattias.jonsson@oracle.com>
branch nick: b14621190-55
timestamp: Tue 2013-10-01 10:05:45 +0200
message:
  Bug#14621190: HA_INNOBASE::INDEX_NEXT SKIPS A RECORD IF PREVIOUS
  INDEX_READ_MAP HAD NO MATCH
  
  If index_read_map is called for exact search and no matching records
  exists it will position the cursor on the next record, but still having the
  relative position to BTR_PCUR_ON.
  This will make a call for index_next to read yet another next record,
  instead of returning the record the cursor points to.
  
  Fixed by setting pcur->rel_pos = BTR_PCUR_BEFORE if an exact
  [prefix] search is done, but failed.
  
  Also avoids optimistic restoration if rel_pos != BTR_PCUR_ON,
  since btr_cur may be different than old_rec.
  
  rb#3324, approved by Marko and Jimmy
------------------------------------------------------------
revno: 4493
committer: Sreedhar.S <sreedhar.sreedhargadda@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-09-30 13:01:17 +0530
message:
  Bug #16619754 - MYSQL_INSTALL_DB.PL FAILS TO CREATE DATABASE ON WINDOWS.
  
  As this mysql_install_db.pl file has always generated lots of confusion on Windows.  This fix will make sure to get it removed only from Windows
------------------------------------------------------------
revno: 4492
committer: Sreedhar.S <sreedhar.sreedhargadda@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-09-30 12:41:22 +0530
message:
  Fix for Bug:16053094
        Registry redirection was improper and hence not able to pick the value for the OLDERVERSION property. as a result in the install upgrade dialog null value wa being passed.
------------------------------------------------------------
revno: 4491
committer: Sreedhar.S <sreedhar.sreedhargadda@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-09-30 12:29:10 +0530
message:
  Fix to copy missing pdb files BUG 13878021
------------------------------------------------------------
revno: 4490
committer: Yasufumi Kinoshita <yasufumi.kinoshita@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-09-30 15:02:54 +0900
message:
  Adjustment for fix for Bug#11758196
  
  log_buffer_extend() should fill the new buffer with 0.
------------------------------------------------------------
revno: 4489
committer: Yasufumi Kinoshita <yasufumi.kinoshita@oracle.com>
branch nick: mysql-5.5
timestamp: Mon 2013-09-30 13:41:48 +0900
message:
  Bug#11758196 : INNODB ASSERTION FAILURE WHEN CONVERTING FROM MYISAM TO INNODB
  
  Changed to try to extend log buffer instead of crash, when log size is too large for the size.
  
  Approved by Marko in rb#3229
------------------------------------------------------------
revno: 4488 [merge]
committer: Satya Bodapati <satya.bodapati@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-09-27 18:32:13 +0530
message:
  Merge fix for BUG#17446090 from mysql-5.1 to mysql-5.5
  
  The testcase for this bug fails randomly due to two reasons.
  1. Due to ibuf merge happening background
  2. Due to dict stats update which brings the evicted page back into
     buffer pool.
  
  Fix ibuf_contract_ext() to not do any merges with ibuf_debug enabled and
  also changed dict_stats_update() to return fake statistics without
  bringing the secondary index pages into buffer pool.
  
  Approved by Marko. rb#3419
    ------------------------------------------------------------
    revno: 2661.844.74
    committer: Satya Bodapati <satya.bodapati@oracle.com>
    branch nick: mysql-5.1
    timestamp: Fri 2013-09-27 18:30:46 +0530
    message:
      BUG#17446090 - TESTCASE INNODB_BUG16752251.TEST FAILS RANDOMLY ON PB2
      
      Enable disabled testcases.
------------------------------------------------------------
revno: 4487
committer: Shivji Kumar Jha <shivji.jha@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-09-27 01:24:16 +0530
message:
  BUG#16580366- MTR TESTS FAILING SPORADICALLY ON PB2 (5.5, 5.6 AND 5.7)
                DURING INNODB RECOVERY
  
  Problem:
  =======
  The connection 'master' is dropped by mysqltest after
  rpl_end.inc. At this point, dropping temporary tables
  at the connection 'master' are not synced at slave.
  So, the temporary tables replicated from master remain
  on slave leading to an inconsistent close of the test.
  The following test thus complains about the presence of
  temporary table(s) left over from the previous test.
  
  Fix:
  ===
  - Put explicit drop commands in replication tests so
    that the temporary tables are dropped at slave as well.
  - Added the check for Slave_open_temp_tables in
    mtr_check.sql to warn about the remaining temporary
    table, if any, at the close of a test.
------------------------------------------------------------
revno: 4486
committer: Sujatha Sivakumar <sujatha.sivakumar@oracle.com>
branch nick: Bug17327454_mysql-5.5
timestamp: Mon 2013-09-23 12:13:37 +0530
message:
  Bug#17327454:SEMI-SYNC REPLICATION MASTER CRASH WHEN SET
  RPL_SEMI_SYNC_MASTER_ENABLED OFF.
  
  Problem:
  =======
  If master is waiting for a reply from slave, at this time
  set global rpl_semi_sync_master_enabled=OFF, the master
  server will crash.
  
  Analysis:
  ========
  When master is waiting for a reply from slave, at this time
  if semi sync is switched off on master, during switch off if
  active transactions are present the transactions will be
  cleared and "active_tranxs_" variable will be set to NULL.
  
  When the waiting master connection finds that semi sync is
  switched of it tries to access "active_tranxs_" without
  checking if the transaction list exists or not. Accessing
  NULL transaction list causes the crash.
  
  Fix:
  ===
  A check has been added to see a valid list exists before
  accessing the "active_tranxs_".
------------------------------------------------------------
revno: 4485 [merge]
committer: Hery Ramilison <hery.ramilison@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-09-20 21:42:40 +0200
message:
  Upmerge of the 5.1.72 build
    ------------------------------------------------------------
    revno: 2661.844.73 [merge]
    author: hery.ramilison@oracle.com
    committer: Hery Ramilison <hery.ramilison@oracle.com>
    branch nick: mysql-5.1
    timestamp: Fri 2013-09-20 21:08:08 +0200
    message:
      Merge from mysql-5.1.72-release
        ------------------------------------------------------------
        revno: 2661.850.5
        tags: mysql-5.1.72
        committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
        branch nick: mysql-5.1.72-release
        timestamp: Mon 2013-09-09 20:07:12 +0200
        message:
           Reverted the changes to spec file to ignore mysqld_safe.pid file, updated the logic to get the correct count of PID files
        ------------------------------------------------------------
        revno: 2661.850.4
        committer: Hery Ramilison <hery.ramilison@oracle.com>
        branch nick: mysql-5.1.72-release
        timestamp: Mon 2013-09-09 18:58:08 +0200
        message:
          Committing patch from venkata.sidagam@oracle.com for Bug#16776528 
        ------------------------------------------------------------
        revno: 2661.850.3
        committer: Hery Ramilison <hery.ramilison@oracle.com>
        branch nick: mysql-5.1.72-release
        timestamp: Tue 2013-09-03 18:37:46 +0200
        message:
          Fixing sles11 build that /usr/lib/mysql/plugin is not owned by a package
        ------------------------------------------------------------
        revno: 2661.850.2
        committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
        branch nick: mysql-5.1.72-release
        timestamp: Fri 2013-08-30 17:14:46 +0200
        message:
          Fix to ignore mysqld_safe.pid
        ------------------------------------------------------------
        revno: 2661.850.1
        committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
        branch nick: mysql-5.1.72-release
        timestamp: Thu 2013-08-29 14:42:55 +0200
        message:
          Fix for Bug#17377159, ignore mysqld_safe.pid file created by mysqld_safe script
------------------------------------------------------------
revno: 4484
committer: Tor Didriksen <tor.didriksen@oracle.com>
branch nick: 5.5
timestamp: Fri 2013-09-20 16:10:31 +0200
message:
  Bug#17435338 ADD A -DWITH_ASAN SWITCH/OPTION TO OUR CMAKE SCRIPTS
  
  Tested with:
  gcc (GCC) 4.8.1 20130603 (Red Hat 4.8.1-1)
  
  clang version 3.1 (tags/RELEASE_31/final)
  Target: x86_64-apple-darwin10.8.0
------------------------------------------------------------
revno: 4483 [merge]
author: balasubramanian.kandasamy@oracle.com
committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
branch nick: mysql-5.5
timestamp: Fri 2013-09-20 11:34:06 +0200
message:
  Merge from mysql-5.5.34-release
    ------------------------------------------------------------
    revno: 4457.1.5
    tags: mysql-5.5.34
    committer: Balasubramanian Kandasamy <balasubramanian.kandasamy@oracle.com>
    branch nick: mysql-5.5.34-release
    timestamp: Mon 2013-09-09 19:49:44 +0200
    message:
      Reverted the changes to spec file, updated the logic to get the correct count of PID files
